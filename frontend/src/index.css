@tailwind base;
@tailwind components;
@tailwind utilities;

@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,400;0,14..32,500;0,14..32,600;0,14..32,700;1,14..32,400&display=swap');

@layer base {
  body {
    @apply bg-slate-50 dark:bg-slate-900 text-slate-800 dark:text-slate-100 antialiased transition-colors duration-200;
  }

  /* Custom Scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  ::-webkit-scrollbar-track {
    background: transparent;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-slate-300 dark:bg-slate-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-slate-400 dark:bg-slate-500;
  }

  * {
    scrollbar-width: thin;
    scrollbar-color: #cbd5e1 transparent;
  }
}

/* ─── ReactFlow Light ─────────────────────────────────────────────────────── */
.react-flow__background {
  @apply bg-slate-50 !important;
}

.react-flow__controls {
  @apply shadow-md border-slate-200 rounded-lg overflow-hidden bg-white !important;
}

.react-flow__controls-button {
  @apply bg-white border-b border-slate-200 text-slate-500 hover:bg-slate-50 hover:text-indigo-600 transition-colors !important;
}

.react-flow__controls-button:last-child {
  @apply border-b-0 !important;
}

.react-flow__attribution {
  @apply hidden !important;
}

/* ─── ReactFlow Dark ──────────────────────────────────────────────────────── */
.dark .react-flow__background {
  background-color: #0f172a !important;
}

.dark .react-flow__background pattern circle,
.dark .react-flow__background pattern line {
  stroke: #334155 !important;
}

.dark .react-flow__controls {
  background: #1e293b !important;
  border-color: #334155 !important;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4) !important;
}

.dark .react-flow__controls-button {
  background: #1e293b !important;
  border-color: #334155 !important;
  color: #94a3b8 !important;
}

.dark .react-flow__controls-button:hover {
  background: #334155 !important;
  color: #818cf8 !important;
}

.dark .react-flow__minimap {
  background: #1e293b !important;
  border-color: #334155 !important;
}

.dark .react-flow__edge path {
  stroke: #6366f1 !important;
  opacity: 0.7;
}

.dark .react-flow__edge-label {
  color: #94a3b8 !important;
}

/* ─── Handles ─────────────────────────────────────────────────────────────── */

.custom-handle {
  @apply !w-3 !h-3 !opacity-100 !bg-indigo-500 !border-2 !border-white transition-transform hover:scale-125 !important;
}

.dark .custom-handle {
  border-color: #1e293b !important;
}

/* ─── ReactFlow Connection Line ─────────────────────────────────────────── */
.react-flow__connection-line {
  stroke: #6366f1;
  stroke-width: 2;
  stroke-dasharray: 5 5;
}

/* ─── Edge selection ──────────────────────────────────────────────────────── */
.react-flow__edge.selected .react-flow__edge-path {
  stroke: #a78bfa !important;
  stroke-width: 3 !important;
}

/* ─── MiniMap dark ────────────────────────────────────────────────────────── */
.dark .react-flow__minimap-mask {
  fill: rgba(15, 23, 42, 0.75) !important;
}

.dark .react-flow__minimap-node {
  fill: #334155 !important;
  stroke: #475569 !important;
}

/* ─── Node selection ring ─────────────────────────────────────────────────── */
.react-flow__node.selected>div {
  outline: 2px solid #6366f1;
  outline-offset: 2px;
}